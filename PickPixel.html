<!DOCTYPE HTML>
<html>
	<head>
		<title>Pick Pixel on Canvas</title>
		<meta charset="utf-8" />
	</head>

	<body>
		<h1>Pick Pixel on Canvas</h1>
		<div>
			<canvas id="canvas" width="300" height="600"></canvas>
			<b id="text"></b>
		</div>
		<script type="text/javascript">
			var canvas = document.getElementById("canvas");
			var image = new Image();
			image.src = "Flowers.jpg"
//			canvas.width = image.width;
//			canvas.height = image.height;
			var cxt = canvas.getContext("2d");
			cxt.drawImage(image,0,0,300,600);
			canvas.addEventListener("mousemove",function(event){
					var x = event.pageX-this.offsetLeft;
					var y = event.pageY-this.offsetTop;
					var pixel = cxt.getImageData(x,y,1,1);
					var data = pixel.data;
					var text = document.getElementById("text");
					var rgba = "rgba("+data[0]+","+data[1]+","+data[2]+","+data[3]+")";
					text.style.background=rgba;
					text.textContent ="("+x+","+y+")"+rgba;
					});
		</script>
	</body>
</html>
